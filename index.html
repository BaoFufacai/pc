<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="./css/index.css">
    <style type="text/css">

    </style>
</head>
<body>
<!--最外侧包裹容器-->
<div id="wrap">
    <!--头部区域-->
    <header id="header">
        <!--头部真正承接内容区域-->
        <div class="headerMain">
            <!--左侧ogo区域-->
            <h1 class="logo">
                <a href="https://wwww.atguigu.com">
                    <img src="./img/logo.png" alt="atguigu">
                </a>
            </h1>
            <!--右侧导航区域-->
            <nav class="nav">
                <ul class="navList clearfix">
                    <!--第一屏-->
                    <li class="navItem">
                        <a href="javascript:;">
                            <div class="up"><img src="./img/home_gruen.png"></div>
                            <div class="down"><img src="./img/home.png"></div>
                        </a>
                    </li>
                    <!--第二屏-->
                    <li class="navItem">
                        <a href="javascript:;">
                            <div class="up">Course</div>
                            <div class="down">Course</div>
                        </a>
                    </li>
                    <!--第三屏-->
                    <li class="navItem">
                        <a href="javascript:;">
                            <div class="up">Works</div>
                            <div class="down">Works</div>
                        </a>
                    </li>
                    <!--第四屏-->
                    <li class="navItem">
                        <a href="javascript:;">
                            <div class="up">About</div>
                            <div class="down">About</div>
                        </a>
                    </li>
                    <!--第五屏-->
                    <li class="navItem">
                        <a href="javascript:;">
                            <div class="up">Team</div>
                            <div class="down">Team</div>
                        </a>
                    </li>

                </ul>
            </nav>
            <!--三角形-->
            <div class="arrow"></div>
        </div>
    </header>
    <!--内容区-->
    <section id="content">
        <!--每一屏的容器-->
        <ul class="contentList">
            <!--第一屏-->
            <li class="contentItem">
                <div class="contentInner">
                   <div class="HomeList">
                       <div class="HomeListItem active"><span class="commonTitle">1</span></div>
                       <div class="HomeListItem"><span class="commonTitle">2</span></div>
                       <div class="HomeListItem"><span class="commonTitle">3</span></div>
                       <div class="HomeListItem"><span class="commonTitle">4</span></div>
                   </div>
                   <div class="HomeListNav clearfix">
                       <span class="HomenavItem active"></span>
                       <span class="HomenavItem"></span>
                       <span class="HomenavItem"></span>
                       <span class="HomenavItem"></span>
                   </div>
                </div>
            </li>
            <!--第二屏-->
            <li class="contentItem">
                <div class="contentInner">
                    <div class=" Course1">
                        <p class="commonTitle">EINBLICK</p>
                        <p class="commonTitle">ERKENNTNIS</p>
                        <p class="commonTitle">ERGEBNIS</p>
                    </div>
                    <div class="Course2">
                        <p class="commonText"> Das Kundenvertrauen in unsere Kompetenz ist die notwendige Basis einer erfolgreichen Zusammenarbeit, gleichzeitig aber auch das größte Lob, das man uns entgegenbringen kann.
                            <br>
                            Diese und viele weitere große und kleine Kunden vertrauen uns seit Jahren, was uns stolz macht, und dafür sagen wir an dieser Stelle einfach mal.</p>
                    </div>
                    <div class="Course3 clearfix">
                        <div class="plus"></div>
                        <div class="plus"></div>
                        <div class="plus"></div>
                        <div class="plus"></div>
                        <div class="plus"></div>
                        <div class="course3Item">
                            <div class="front"></div>
                            <div class="back">我是一段文字</div>
                        </div>
                        <div class="course3Item">
                            <div class="front"></div>
                            <div class="back">我是一段文字</div>
                        </div>
                        <div class="course3Item">
                            <div class="front"></div>
                            <div class="back">我是一段文字</div>
                        </div>
                        <div class="course3Item">
                            <div class="front"></div>
                            <div class="back">我是一段文字</div>
                        </div>
                        <div class="course3Item">
                            <div class="front"></div>
                            <div class="back">我是一段文字</div>
                        </div>
                        <div class="course3Item">
                            <div class="front"></div>
                            <div class="back">我是一段文字</div>
                        </div>
                        <div class="course3Item">
                            <div class="front"></div>
                            <div class="back">我是一段文字</div>
                        </div>
                        <div class="course3Item">
                            <div class="front"></div>
                            <div class="back">我是一段文字</div>
                        </div>
                        <div class="course3Item">
                            <div class="front"></div>
                            <div class="back">我是一段文字</div>
                        </div>
                        <div class="course3Item">
                            <div class="front"></div>
                            <div class="back"></div>
                        </div>
                        <div class="course3Item">
                            <div class="front"></div>
                            <div class="back">我是一段文字</div>
                        </div>
                        <div class="course3Item">
                            <div class="front"></div>
                            <div class="back">我是一段文字</div>
                        </div>
                    </div>
                </div>
            </li>
            <!--第三屏-->
            <li class="contentItem">
                <div class="contentInner">
                    <div class="works1">
                        <p class="commonTitle">EINBLICK</p>
                        <p class="commonTitle">ERKENNTNIS</p>
                        <p class="commonTitle">ERGEBNIS</p>
                    </div>
                    <div class="works2 clearfix">
                        <div class="works2Item">
                            <img src="./img/worksimg1.jpg">
                            <div class="mask">
                                <span class="maskText">我是一段文字</span>
                                <div class="icon"></div>
                            </div>
                        </div>
                        <div class="works2Item">
                            <img src="./img/worksimg2.jpg">
                            <div class="mask">
                                <span class="maskText">我是一段文字</span>
                                <div class="icon"></div>
                            </div>
                        </div>
                        <div class="works2Item">
                            <img src="./img/worksimg3.jpg">
                            <div class="mask">
                                <span class="maskText">我是一段文字</span>
                                <div class="icon"></div>
                            </div>
                        </div>
                        <div class="works2Item">
                            <img src="./img/worksimg4.jpg">
                            <div class="mask">
                                <span class="maskText">我是一段文字</span>
                                <div class="icon"></div>
                            </div>
                        </div>
                    </div>
                    <div class="works3">
                        <div class="robot"></div>
                    </div>
                </div>
            </li>
            <!--第四屏-->
            <li class="contentItem">
                <div class="contentInner">
                    <div class="about1">
                        <p class="commonTitle">EINBLICK</p>
                        <p class="commonTitle">ERKENNTNIS</p>
                        <p class="commonTitle">ERGEBNIS</p>
                    </div>
                    <div class="about2">
                        <p class="commonText">
                            Der bunte Medienmix ist die Faszination die uns antreibt und das, was man an uns schätzt. Von A bis Z und von vorne bis hinten nehmen wir Ihr Projekt unter unsere Fittiche und lassen es zu etwas Großartigem heranwachsen.
                        </p>
                    </div>
                    <div class="about3">
                        <div class="about3Item">
                            <img src="./img/about2.jpg">
                            <div class="mask">
                                <ul class="maskList clearfix">
                                    <li class="maskItem">
                                        <img src="./img/about1.jpg">
                                    </li>
                                    <li class="maskItem">
                                        <img src="./img/about1.jpg">
                                    </li>
                                    <li class="maskItem">
                                        <img src="./img/about1.jpg">
                                    </li>
                                    <li class="maskItem">
                                        <img src="./img/about1.jpg">
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="about3Item">
                            <img src="./img/about4.jpg">
                            <div class="mask">
                                <ul class="maskList clearfix">
                                    <li class="maskItem">
                                        <img src="./img/about3.jpg">
                                    </li>
                                    <li class="maskItem">
                                        <img src="./img/about3.jpg">
                                    </li>
                                    <li class="maskItem">
                                        <img src="./img/about3.jpg">
                                    </li>
                                    <li class="maskItem">
                                        <img src="./img/about3.jpg">
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="line"></div>
            </li>
            <!--第五屏-->
            <li class="contentItem">
                <div class="contentInner">
                    Team
                </div>
            </li>
        </ul>
    </section>
</div>

<script>
    window.onload =  function () {
        //获取元素
        var header = document.getElementById('header');
        var navUps = document.querySelectorAll('#header .headerMain .nav .navList .navItem .up');
        var arrow = document.querySelector('#header .headerMain .arrow');
        var navItem = document.querySelectorAll('#header .headerMain .nav .navList .navItem');
        var content = document.getElementById('content');
        var contentItems = document.querySelectorAll('#content .contentList .contentItem');
        var contentList = document.querySelector('#content .contentList');
        var index = 0;
        var timeId;

        //初始化第一个up元素高亮
        navUps[0].style.width = '100%'
        //初始化三角的位置
        arrow.style.left = navItem[0].getBoundingClientRect().left + navItem[0].offsetWidth/2 + 'px';
        //响应滚轮缩放
        window.onresize=function(){
            contentBind()
            contentMove(index)
        }

        //给每一个导航项加点击事件
        headerBind()
        function headerBind() {
            for (var i=0; i<navItem.length; i++ ){
                var item = navItem[i];
                item.index = i //缓存计数器
                //给每一个导航项加点击事件
                item.onclick = function () {
                    index = this.index
                    contentMove(this.index)
                }
            }
        }

        //内容区移动逻辑
        contentMove(0)
        function contentMove(index) {
            //1.给所有的up元素去除高亮
            for (var j=0; j<navUps.length; j++ ){
                navUps[j].style.width = ''
            }
            //2.给当前点击的navItem所包含的up元素高亮
            navUps[index].style.width = '100%'
            //3.切换三角位置
            arrow.style.left = navItem[index].getBoundingClientRect().left + navItem[index].offsetWidth/2 + 'px';
            //4.切换屏幕
            contentList.style.top = -(index) * (document.documentElement.clientHeight - header.offsetHeight) + 'px'

        }

        //内容区设置高度逻辑
        contentBind()
        function contentBind() {
            //给内容区设置高度
            content.style.height = document.documentElement.clientHeight - header.offsetHeight + 'px'
            //给每一屏设置高度
            for (var i=0; i<contentItems.length; i++ ){
                contentItems[i].style.height = document.documentElement.clientHeight - header.offsetHeight + 'px'
            }
        }

        //鼠标滚轮
        Scroll()
        function Scroll() {
            //ie/chrome
            document.onmousewheel = function (event) {
                //函数节流
                clearTimeout(timeId)
                timeId=setTimeout(function () {
                    scrollMove(event)
                },200);
            }
            //firefox
            if(document.addEventListener){
                document.addEventListener('DOMMouseScroll',function (event) {
                    //函数节流
                    clearTimeout(timeId)
                    timeId=setTimeout(function () {
                        scrollMove(event)
                    },200)
                });
            }

            function scrollMove(event) {
                event = event || window.event;
                var flag = '';
                if(event.wheelDelta){
                    //ie/chrome
                    if(event.wheelDelta > 0){
                        //上
                        flag = 'up';
                    }else {
                        //下
                        flag = 'down'
                    }
                }
                else if(event.detail){
                    //firefox
                    if(event.detail < 0){
                        //上
                        flag = 'up';
                    }else {
                        //下
                        flag = 'down'
                    }
                }

                switch (flag){
                    case 'up':
                        //鼠标滚轮向上滚动
                        console.log('上')
                        if(index>0){
                            index--
                            contentMove(index)
                        }
                        contentMove(index)
                        break;
                    case 'down':
                        //鼠标滚轮向下滚动
                        console.log('下')
                        if(index<contentItems.length-1){
                            index++
                            contentMove(index)
                        }
                        break;
                }
                //取消默认行为
                event.preventDefault && event.preventDefault();
                return false;
            }
        }




        //动画



    }
</script>


</body>
</html>